<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HedgeFreedom - ì²« ì„¤ì¹˜</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Noto Sans', sans-serif;
        }

        .onboarding-container {
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
            width: 90%;
            max-width: 900px;
            overflow: hidden;
        }

        .onboarding-header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 50px 40px;
            text-align: center;
        }

        .onboarding-header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
            font-weight: 700;
        }

        .onboarding-header p {
            font-size: 1.1em;
            opacity: 0.95;
        }

        .onboarding-content {
            padding: 50px 40px;
        }

        .step-container {
            display: none;
        }

        .step-container.active {
            display: block;
            animation: fadeIn 0.5s ease-in;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .step-title {
            font-size: 1.8em;
            font-weight: 700;
            color: #333;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .step-description {
            color: #666;
            line-height: 1.8;
            margin-bottom: 30px;
        }

        .feature-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-bottom: 30px;
        }

        .feature-card {
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            padding: 20px;
            border-radius: 12px;
            border-left: 4px solid #667eea;
        }

        .feature-card h3 {
            font-weight: 700;
            color: #333;
            margin-bottom: 8px;
            font-size: 1.1em;
        }

        .feature-card p {
            color: #666;
            font-size: 0.95em;
            line-height: 1.6;
        }

        .folder-structure {
            background: #f9fafb;
            border: 2px solid #e5e7eb;
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 30px;
            font-family: 'Courier New', monospace;
            font-size: 0.95em;
            color: #333;
            overflow-x: auto;
        }

        .folder-structure div {
            line-height: 1.8;
        }

        .folder-structure strong {
            color: #667eea;
        }

        .checklist {
            background: #f0fdf4;
            border: 2px solid #86efac;
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 30px;
        }

        .checklist-item {
            display: flex;
            align-items: start;
            gap: 12px;
            margin-bottom: 12px;
            color: #166534;
        }

        .checklist-item:last-child {
            margin-bottom: 0;
        }

        .checklist-item svg {
            width: 24px;
            height: 24px;
            flex-shrink: 0;
            margin-top: 2px;
        }

        .btn-group {
            display: flex;
            gap: 12px;
            margin-top: 40px;
        }

        .btn {
            padding: 14px 28px;
            border: none;
            border-radius: 10px;
            font-weight: 600;
            cursor: pointer;
            font-size: 1em;
            transition: all 0.3s ease;
            flex: 1;
            text-align: center;
        }

        .btn-primary {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 20px rgba(102, 126, 234, 0.3);
        }

        .btn-secondary {
            background: #e5e7eb;
            color: #333;
        }

        .btn-secondary:hover {
            background: #d1d5db;
        }

        .btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            transform: none !important;
        }

        .progress-bar {
            background: #e5e7eb;
            height: 6px;
            margin-bottom: 40px;
            border-radius: 10px;
            overflow: hidden;
        }

        .progress-fill {
            background: linear-gradient(90deg, #667eea 0%, #764ba2 100%);
            height: 100%;
            width: 0%;
            transition: width 0.3s ease;
        }

        .warning-box {
            background: #fef3c7;
            border-left: 4px solid #f59e0b;
            padding: 16px;
            border-radius: 8px;
            margin-bottom: 20px;
        }

        .warning-box p {
            color: #92400e;
            font-size: 0.95em;
        }

        .code-block {
            background: #1f2937;
            color: #e5e7eb;
            padding: 16px;
            border-radius: 8px;
            margin: 20px 0;
            font-family: 'Courier New', monospace;
            font-size: 0.9em;
            overflow-x: auto;
        }

        .success-checkmark {
            display: inline-block;
            width: 20px;
            height: 20px;
            background: #10b981;
            border-radius: 50%;
            color: white;
            text-align: center;
            line-height: 20px;
            font-weight: bold;
            margin-right: 8px;
        }

        .step-indicator {
            text-align: center;
            color: #999;
            font-size: 0.9em;
            margin-top: 20px;
        }

        @media (max-width: 768px) {
            .feature-grid {
                grid-template-columns: 1fr;
            }

            .onboarding-header h1 {
                font-size: 1.8em;
            }

            .onboarding-header,
            .onboarding-content {
                padding: 30px 20px;
            }

            .btn-group {
                flex-direction: column-reverse;
            }
        }
    </style>
</head>
<body>
    <div class="onboarding-container">
        <!-- í—¤ë” -->
        <div class="onboarding-header">
            <h1>ğŸš€ HedgeFreedomì— ì˜¤ì‹  ê²ƒì„ í™˜ì˜í•©ë‹ˆë‹¤!</h1>
            <p>ê³ ê°ë‹˜ì˜ í—¤ì§• ì „ëµì„ í•œ ë‹¨ê³„ ì—…ê·¸ë ˆì´ë“œí•˜ì„¸ìš”</p>
        </div>

        <!-- ì»¨í…ì¸  -->
        <div class="onboarding-content">
            <!-- ì§„í–‰ë¥  ë°” -->
            <div class="progress-bar">
                <div class="progress-fill" id="progressFill"></div>
            </div>

            <!-- Step 1: í™˜ì˜ -->
            <div class="step-container active" data-step="1">
                <div class="step-title">ğŸ‘‹ ì•ˆë…•í•˜ì„¸ìš”!</div>
                <div class="step-description">
                    HedgeFreedomì€ ê³ ê°ë‹˜ì˜ ì™¸í™˜ í—¤ì§• ì „ëµì„ íš¨ìœ¨ì ìœ¼ë¡œ ê´€ë¦¬í•  ìˆ˜ ìˆë„ë¡ ì„¤ê³„ëœ ë„êµ¬ì…ë‹ˆë‹¤.
                    <br><br>
                    ì´ ì§§ì€ ì„¤ì • ê³¼ì •ì„ í†µí•´ ê³ ê°ë‹˜ì˜ ì»´í“¨í„°ì— HedgeFreedomì„ ì„¤ì¹˜í•˜ê³ , ë°ì´í„°ë¥¼ ì•ˆì „í•˜ê²Œ ë³´ê´€í•  í´ë”ë¥¼ ì¤€ë¹„í•˜ê² ìŠµë‹ˆë‹¤.
                </div>

                <div class="feature-grid">
                    <div class="feature-card">
                        <h3>ğŸ” ì™„ë²½í•œ ë°ì´í„° ë³´ì•ˆ</h3>
                        <p>ê³ ê°ë‹˜ì˜ ë¯¼ê°í•œ ê±°ë˜ ì •ë³´ëŠ” í•­ìƒ ê³ ê°ë‹˜ì˜ PCì—ë§Œ ì €ì¥ë©ë‹ˆë‹¤</p>
                    </div>
                    <div class="feature-card">
                        <h3>âš¡ ê°•ë ¥í•œ ë¶„ì„</h3>
                        <p>ìë™ ì»¬ëŸ¼ ë§¤í•‘ê³¼ AI ê¸°ë°˜ ìµëª…í™”ë¡œ íš¨ìœ¨ì„± ê·¹ëŒ€í™”</p>
                    </div>
                    <div class="feature-card">
                        <h3>ğŸ“Š ì‹¤ì‹œê°„ ëª¨ë‹ˆí„°ë§</h3>
                        <p>í—¤ì§€ í˜„í™©ì„ ì–¸ì œë“ ì§€ í™•ì¸í•˜ê³  ìµœì í™”í•˜ì„¸ìš”</p>
                    </div>
                    <div class="feature-card">
                        <h3>ğŸ”„ ìë™ ë³µë³µ</h3>
                        <p>ë‹¤ìŒ ì ‘ì† ì‹œ ì´ì „ ë°ì´í„°ê°€ ìë™ìœ¼ë¡œ ë¡œë“œë©ë‹ˆë‹¤</p>
                    </div>
                </div>

                <div class="btn-group">
                    <button class="btn btn-primary" onclick="nextStep()">ì‹œì‘í•˜ê¸°</button>
                </div>
                <div class="step-indicator">1 / 4 ë‹¨ê³„</div>
            </div>

            <!-- Step 2: ì‘ì—…ê³µê°„ ì„¤ì • -->
            <div class="step-container" data-step="2">
                <div class="step-title">ğŸ“‚ ì‘ì—…ê³µê°„ ì„¤ì •</div>
                <div class="step-description">
                    HedgeFreedomì´ ê³ ê°ë‹˜ì˜ ë°ì´í„°ë¥¼ ì €ì¥í•  í´ë”ë¥¼ ì„ íƒí•´ì£¼ì„¸ìš”.
                    <br><br>
                    ì„ íƒí•œ ìœ„ì¹˜ì— ìë™ìœ¼ë¡œ HEDGEFREEDOM í´ë”ì™€ í•„ìš”í•œ í•˜ìœ„ í´ë”ë“¤ì´ ìƒì„±ë©ë‹ˆë‹¤.
                </div>

                <div class="folder-structure">
                    <div>ğŸ“ [ê³ ê°ë‹˜ì´ ì„ íƒí•œ í´ë”] (ì˜ˆ: Documents)</div>
                    <div style="margin-left: 20px;">â””â”€ ğŸ“ <strong>HEDGEFREEDOM</strong> â† ìë™ ìƒì„±ë¨</div>
                    <div style="margin-left: 40px;">â”œâ”€ ğŸ“ <strong>ì›ë³¸</strong> (ERP ë°ì´í„°)</div>
                    <div style="margin-left: 40px;">â”œâ”€ ğŸ“ <strong>ê²°ê³¼</strong> (ê³„ì‚° ê²°ê³¼)</div>
                    <div style="margin-left: 40px;">â”œâ”€ ğŸ“ <strong>íˆìŠ¤í† ë¦¬</strong> (ê³¼ê±° ë°ì´í„°)</div>
                    <div style="margin-left: 40px;">â””â”€ ğŸ“ <strong>ìºì‹œ</strong> (ì„ì‹œ íŒŒì¼)</div>
                </div>

                <!-- âš ï¸ ì¤‘ìš” ê²½ê³  -->
                <div style="background: #fff3cd; border-left: 5px solid #ff6b6b; padding: 16px; border-radius: 8px; margin-bottom: 20px;">
                    <div style="display: flex; align-items: start; gap: 12px;">
                        <span style="font-size: 1.5em;">âš ï¸</span>
                        <div>
                            <h4 style="margin: 0 0 8px 0; color: #c92a2a; font-weight: bold;">ë§¤ìš° ì¤‘ìš”: í´ë” êµ¬ì¡°ëŠ” ë°˜ë“œì‹œ ìœ ì§€í•´ì•¼ í•©ë‹ˆë‹¤</h4>
                            <p style="margin: 0 0 8px 0; color: #5c0a0a; font-size: 0.95em;">
                                <strong>âŒ ì ˆëŒ€ ê¸ˆì§€:</strong> í´ë” ì´ë¦„ ë³€ê²½, íŒŒì¼ ì´ë™, ì‚­ì œ, ì™¸ë¶€ ìˆ˜ì •
                            </p>
                            <p style="margin: 0 0 10px 0; color: #5c0a0a; font-size: 0.9em;">
                                ì´ í´ë”ë“¤ì€ <strong>ê³ ê°ë‹˜ ë°ì´í„°ì˜ ìƒì• ì£¼ê¸° ê´€ë¦¬</strong>ì™€ <strong>ê°ì‚¬ ì¶”ì (Audit Trail)</strong>ì„ ìœ„í•œ í•µì‹¬ ìì‚°ì…ë‹ˆë‹¤. 
                                í•¨ë¶€ë¡œ ìˆ˜ì •í•˜ë©´ ë°ì´í„° ë¬´ê²°ì„±ì´ ì†ìƒë˜ì–´ í”„ë¡œë¹„ë„ŒìŠ¤ ì¶”ì , ê°ì‚¬ ëŒ€ì‘, ë²•ê·œ ì¤€ìˆ˜ì— ì‹¬ê°í•œ ë¬¸ì œê°€ ë°œìƒí•©ë‹ˆë‹¤.
                            </p>
                            <div style="background: rgba(255, 255, 255, 0.7); padding: 12px; border-radius: 6px; margin-top: 10px;">
                                <p style="margin: 0 0 8px 0; color: #4a5568; font-weight: 600; font-size: 0.9em;">
                                    ğŸ’¡ í´ë” êµ¬ì¡°ë¥¼ ìœ ì§€í•˜ë©´ ì–¸ì œë“ ì§€ ì‰½ê²Œ ì°¾ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤:
                                </p>
                                <div style="margin: 0; color: #5a6c7d; font-size: 0.85em; line-height: 1.6;">
                                    <p style="margin: 0 0 6px 0;">
                                        <strong>ğŸ“ ì›ë³¸(ì›ë³¸ ë°ì´í„°)</strong> â†’ ì–¸ì œ ì–´ë–¤ ë°ì´í„°ë¥¼ ì…ë ¥í–ˆëŠ”ì§€ ê¸°ë¡
                                    </p>
                                    <p style="margin: 0 0 6px 0;">
                                        <strong>ğŸ“ ê²°ê³¼(ë¶„ì„ ê²°ê³¼)</strong> â†’ ì–¸ì œ ì–´ë–¤ ê²°ì •ì„ í–ˆëŠ”ì§€ ì¶”ì  ê°€ëŠ¥
                                    </p>
                                    <p style="margin: 0 0 6px 0;">
                                        <strong>ğŸ“ íˆìŠ¤í† ë¦¬(ë³€ê²½ ê¸°ë¡)</strong> â†’ ì‹œê°„ìˆœìœ¼ë¡œ ëª¨ë“  ë³€ê²½ì‚¬í•­ ê¸°ë¡ë˜ì–´ í”„ë¡œë¹„ë„ŒìŠ¤ ì¸ë±ìŠ¤ë¡œ ê²€ìƒ‰ ê°€ëŠ¥
                                    </p>
                                    <p style="margin: 0;">
                                        ê°ì‚¬ê°€ í•„ìš”í•  ë•Œ, íŠ¹ì • ë‚ ì§œì˜ ê±°ë˜ ê¸°ë¡, ì˜ì‚¬ê²°ì • ê³¼ì •, ìˆ˜ì • ì‚¬í•­ì„ <strong>ëª‡ ì´ˆ ì•ˆì—</strong> ì°¾ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤. 
                                        í´ë” êµ¬ì¡°ê°€ ííŠ¸ëŸ¬ì§€ë©´ ì´ ëª¨ë“  ì¶”ì  ëŠ¥ë ¥ì´ ë¬´ë„ˆì§‘ë‹ˆë‹¤.
                                    </p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="checklist">
                    <div class="checklist-item">
                        <svg fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
                        </svg>
                        <span>í´ë”ë¥¼ ì§ì ‘ ë§Œë“¤ í•„ìš”ê°€ ì—†ìŠµë‹ˆë‹¤ (ìë™ìœ¼ë¡œ ìƒì„±ë¨)</span>
                    </div>
                    <div class="checklist-item">
                        <svg fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
                        </svg>
                        <span>Documents, Desktop, ë˜ëŠ” ì›í•˜ëŠ” ì–´ëŠ í´ë”ë“  ì„ íƒ ê°€ëŠ¥</span>
                    </div>
                    <div class="checklist-item">
                        <svg fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
                        </svg>
                        <span>ìƒì„±ëœ í´ë”ëŠ” HedgeFreedomì´ ê´€ë¦¬ - ì‚¬ìš©ìê°€ ì§ì ‘ ìˆ˜ì •í•˜ë©´ ì•ˆ ë¨</span>
                    </div>
                    <div class="checklist-item">
                        <svg fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
                        </svg>
                        <span>í•œ ë²ˆë§Œ ì„¤ì •í•˜ë©´ ë‹¤ìŒ ì ‘ì† ë•ŒëŠ” ìë™ ë¡œë“œ</span>
                    </div>
                </div>

                <button class="w-full bg-blue-600 hover:bg-blue-700 text-white font-bold py-4 px-6 rounded-lg text-lg transition transform hover:scale-105 shadow-lg" id="selectFolderBtn" onclick="selectWorkspaceFolder()">
                    ğŸ“ ì‘ì—… í´ë” ì„ íƒí•˜ê¸°
                </button>

                <div id="folderStatus" class="mt-4 text-sm text-gray-600"></div>

                <div class="btn-group">
                    <button class="btn btn-secondary" onclick="prevStep()">ì´ì „</button>
                    <button class="btn btn-primary" id="nextStepBtn2" onclick="nextStep()" disabled>ë‹¤ìŒ</button>
                </div>
                <div class="step-indicator">2 / 4 ë‹¨ê³„</div>
            </div>

            <!-- Step 3: ë°ì´í„° ë³´ì•ˆ ì„¤ëª… -->
            <div class="step-container" data-step="3">
                <div class="step-title">ğŸ”’ ë°ì´í„° ë³´ì•ˆ</div>
                <div class="step-description">
                    ê³ ê°ë‹˜ì˜ ë°ì´í„°ë¥¼ ì–´ë–»ê²Œ ë³´í˜¸í•˜ëŠ”ì§€ ì„¤ëª…ë“œë¦½ë‹ˆë‹¤.
                </div>

                <div class="warning-box">
                    <p><strong>í•µì‹¬ ì›ì¹™:</strong> ë¯¼ê°í•œ ì •ë³´ëŠ” ê³ ê°ë‹˜ì˜ PCì—ë§Œ ì¡´ì¬í•©ë‹ˆë‹¤</p>
                </div>

                <div class="feature-grid">
                    <div class="feature-card">
                        <h3>ğŸ“ ë¡œì»¬ ì €ì¥</h3>
                        <p>ì›ë³¸ Excel íŒŒì¼ì€ í•­ìƒ ê³ ê°ë‹˜ì˜ "ì›ë³¸" í´ë”ì—ë§Œ ì €ì¥ë©ë‹ˆë‹¤</p>
                    </div>
                    <div class="feature-card">
                        <h3>ğŸ” ìë™ ìµëª…í™”</h3>
                        <p>ê±°ë˜ì²˜ëª…, ì€í–‰ëª…ì€ ìë™ìœ¼ë¡œ ì œê±°ë˜ì–´ ì„œë²„ë¡œ ì „ì†¡ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤</p>
                    </div>
                    <div class="feature-card">
                        <h3>ğŸ“¤ ìµœì†Œ ì „ì†¡</h3>
                        <p>í†µí™”, ê¸ˆì•¡, ë‚ ì§œë§Œ ì„œë²„ë¡œ ì „ì†¡ë˜ì–´ ê³„ì‚°ë©ë‹ˆë‹¤</p>
                    </div>
                    <div class="feature-card">
                        <h3>ğŸ’¾ ê²°ê³¼ ì €ì¥</h3>
                        <p>ê³„ì‚° ê²°ê³¼ëŠ” "ê²°ê³¼" í´ë”ì— ì €ì¥ë˜ì–´ ì–¸ì œë“  í™•ì¸ ê°€ëŠ¥</p>
                    </div>
                </div>

                <div class="step-title" style="margin-top: 40px;">ğŸ“‹ ë°ì´í„° ì²˜ë¦¬ íë¦„</div>
                <div class="code-block">
1ï¸âƒ£  ERPì—ì„œ Excel ë‹¤ìš´ë¡œë“œ
      â†“
2ï¸âƒ£  "ì›ë³¸" í´ë”ì— ì €ì¥
      â†“
3ï¸âƒ£  HedgeFreedomì—ì„œ íŒŒì¼ ì„ íƒ
      â†“
4ï¸âƒ£  ê±°ë˜ì²˜/ì€í–‰ëª… ìë™ ì œê±° (ë§ˆìŠ¤í‚¹)
      â†“
5ï¸âƒ£  í†µí™”/ê¸ˆì•¡/ë‚ ì§œë§Œ ì„œë²„ë¡œ ì „ì†¡
      â†“
6ï¸âƒ£  ì„œë²„ì—ì„œ í—¤ì§€ ê³„ì‚°
      â†“
7ï¸âƒ£  ê²°ê³¼ ìˆ˜ì‹  â†’ "ê²°ê³¼" í´ë”ì— ì €ì¥
      â†“
8ï¸âƒ£  ëŒ€ì‹œë³´ë“œì— ì‹¤ì‹œê°„ í‘œì‹œ
                </div>

                <div class="step-title" style="margin-top: 40px; color: #667eea;">ğŸ“Š ë°ì´í„° ìƒì• ì£¼ê¸° ê´€ë¦¬ (ë§¤ìš° ì¤‘ìš”)</div>
                <div style="background: #f0f4ff; border-left: 5px solid #667eea; padding: 20px; border-radius: 8px; margin-bottom: 20px;">
                    <p style="margin: 0 0 12px 0; color: #333; font-weight: 600;">HedgeFreedomì€ ë‹¨ìˆœí•œ ê³„ì‚° ë„êµ¬ê°€ ì•„ë‹™ë‹ˆë‹¤. <strong>ë°ì´í„° ìƒì• ì£¼ê¸° ê´€ë¦¬ ì‹œìŠ¤í…œ</strong>ì…ë‹ˆë‹¤.</p>
                    
                    <div style="background: white; padding: 12px; border-radius: 6px; margin-bottom: 12px;">
                        <p style="margin: 0 0 8px 0; color: #555; font-size: 0.95em;">
                            <strong>ğŸ” í”„ë¡œë¹„ë„ŒìŠ¤ ì¶”ì  (Provenance Tracking)</strong>
                        </p>
                        <p style="margin: 0 0 10px 0; color: #666; font-size: 0.9em;">
                            ëª¨ë“  ë°ì´í„°ê°€ ì–¸ì œ, ì–´ë””ì„œ, ì–´ë–»ê²Œ ìƒì„±/ìˆ˜ì •ë˜ì—ˆëŠ”ì§€ ìë™ìœ¼ë¡œ ê¸°ë¡ë©ë‹ˆë‹¤. 
                            "íˆìŠ¤í† ë¦¬" í´ë”ì—ëŠ” ëª¨ë“  ê±°ë˜ ì´ë ¥ì´ ì˜êµ¬ ë³´ê´€ë˜ì–´ í•„ìš”ì‹œ ì¶”ì  ê°€ëŠ¥í•©ë‹ˆë‹¤.
                        </p>
                        <div style="background: #fff3cd; border-left: 3px solid #ff9800; padding: 8px; border-radius: 4px;">
                            <p style="margin: 0; color: #cc6600; font-weight: 600; font-size: 0.9em;">
                                âš¡ ë°˜ë“œì‹œ ë³„ë„ë¡œ ë°±ì—…í•˜ì„¸ìš”!
                            </p>
                            <p style="margin: 4px 0 0 0; color: #996600; font-size: 0.85em;">
                                HedgeFreedomì˜ "íˆìŠ¤í† ë¦¬" í´ë”ëŠ” ì œ1ì°¨ ë³´ê´€ì…ë‹ˆë‹¤. 
                                ì»´í“¨í„° ê³ ì¥, ì•…ì„±ì½”ë“œ, ëœì„¬ì›¨ì–´, ì‹¤ìˆ˜ë¡œ ì¸í•œ ì‚­ì œ ë“±ì˜ ìœ„í—˜ì„ ëŒ€ë¹„í•´ 
                                <strong>ë³„ë„ì˜ ì™¸ì¥ ë“œë¼ì´ë¸Œ, USB, í´ë¼ìš°ë“œ ìŠ¤í† ë¦¬ì§€ì— ì •ê¸°ì ìœ¼ë¡œ ë°±ì—…</strong>í•˜ì„¸ìš”.
                            </p>
                            <p style="margin: 4px 0 0 0; color: #996600; font-size: 0.85em;">
                                <strong>ê¶Œì¥:</strong> ë§¤ì›” 1íšŒ ì´ìƒ ì „ì²´ HEDGEFREEDOM í´ë” ë°±ì—… (ê°ì‚¬ ëŒ€ì‘ ì‹œ í•„ìˆ˜ ì¦ê±°ìë£Œ)
                            </p>
                        </div>
                    </div>

                    <div style="background: white; padding: 12px; border-radius: 6px; margin-bottom: 12px;">
                        <p style="margin: 0 0 8px 0; color: #555; font-size: 0.95em;">
                            <strong>ğŸ“‹ ê°ì‚¬ ëŒ€ì‘ (Audit Trail)</strong>
                        </p>
                        <p style="margin: 0; color: #666; font-size: 0.9em;">
                            ê¸ˆê°ì›, ê±°ë˜ì†Œ, ê°ì‹œì› ë“±ì˜ ê°ì‹œ/ê°ì‹œì— ëŒ€ì‘í•  ë•Œ "ê²°ê³¼" í´ë”ì˜ ê³„ì‚° ê·¼ê±°ë¥¼ ì œì‹œí•©ë‹ˆë‹¤. 
                            í´ë” êµ¬ì¡°ê°€ í›¼ì†ë˜ë©´ ê°ì‚¬ ëŒ€ì‘ì´ ë¶ˆê°€ëŠ¥í•´ì§‘ë‹ˆë‹¤.
                        </p>
                    </div>

                    <div style="background: white; padding: 12px; border-radius: 6px;">
                        <p style="margin: 0 0 8px 0; color: #555; font-size: 0.95em;">
                            <strong>âš–ï¸ ë²•ê·œ ì¤€ìˆ˜ (Compliance)</strong>
                        </p>
                        <p style="margin: 0; color: #666; font-size: 0.9em;">
                            ì™¸í™˜ê±°ë˜ ê´€ë ¨ ê·œì •(ì½”í”½ìŠ¤, ì„ ë¬¼ê±°ë˜ë²• ë“±)ì— ë”°ë¼ ê±°ë˜ ê¸°ë¡ ë³´ê´€ì´ ì˜ë¬´ì…ë‹ˆë‹¤. 
                            HedgeFreedomì˜ í´ë” êµ¬ì¡°ëŠ” ì´ ìš”ê±´ì„ ìë™ìœ¼ë¡œ ì¶©ì¡±ì‹œí‚µë‹ˆë‹¤.
                        </p>
                    </div>

                    <div style="margin-top: 12px; padding-top: 12px; border-top: 1px solid #e0e0e0;">
                        <p style="margin: 0; color: #c92a2a; font-weight: 600; font-size: 0.95em;">
                            âœ‹ ë”°ë¼ì„œ HEDGEFREEDOM í´ë” ë‚´ì˜ ì–´ë–¤ íŒŒì¼ë„ ê³ ê°ë‹˜ì´ ì§ì ‘ ìˆ˜ì •/ì´ë™/ì‚­ì œí•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.
                        </p>
                    </div>
                </div>

                <div class="btn-group">
                    <button class="btn btn-secondary" onclick="prevStep()">ì´ì „</button>
                    <button class="btn btn-primary" onclick="nextStep()">ë‹¤ìŒ</button>
                </div>
                <div class="step-indicator">3 / 4 ë‹¨ê³„</div>
            </div>

            <!-- Step 4: ì´ˆê¸° ì„¤ì • -->
            <div class="step-container" data-step="4">
                <div class="step-title">âš™ï¸ ì´ˆê¸° ì„¤ì •</div>
                <div class="step-description">
                    HedgeFreedomì„ ì‹œì‘í•˜ê¸° ì „ì— ëª©í‘œ í—¤ì§€ ë¹„ìœ¨ì„ ì„¤ì •í•´ì£¼ì„¸ìš”.
                    <br><br>
                    ì´ ì„¤ì •ì€ ì–¸ì œë“ ì§€ ë³€ê²½í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
                </div>

                <div class="mb-6">
                    <label class="block text-sm font-bold text-gray-700 mb-3">
                        ëª©í‘œ í—¤ì§€ ë¹„ìœ¨ (%)
                    </label>
                    <input 
                        type="number" 
                        id="targetHedgeRatioInput" 
                        value="75" 
                        min="0" 
                        max="100"
                        class="w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:outline-none focus:border-blue-600 text-2xl font-bold text-center"
                    >
                    <div class="mt-4 flex gap-2 justify-center flex-wrap">
                        <button onclick="setRatio(50)" class="px-4 py-2 bg-gray-100 hover:bg-gray-200 rounded-lg text-sm font-semibold">50%</button>
                        <button onclick="setRatio(75)" class="px-4 py-2 bg-blue-100 hover:bg-blue-200 rounded-lg text-sm font-semibold border-2 border-blue-500">75% (ê¶Œì¥)</button>
                        <button onclick="setRatio(85)" class="px-4 py-2 bg-gray-100 hover:bg-gray-200 rounded-lg text-sm font-semibold">85%</button>
                        <button onclick="setRatio(100)" class="px-4 py-2 bg-gray-100 hover:bg-gray-200 rounded-lg text-sm font-semibold">100%</button>
                    </div>
                </div>

                <div class="feature-card" style="border-left: 4px solid #10b981;">
                    <h3>ğŸ’¡ ëª©í‘œ í—¤ì§€ ë¹„ìœ¨ì´ë€?</h3>
                    <p>ì „ì²´ ì™¸í™˜ ë…¸ì¶œì•¡ ì¤‘ ëª‡ %ë¥¼ í—¤ì§€í• ì§€ ê²°ì •í•˜ëŠ” ì§€í‘œì…ë‹ˆë‹¤.</p>
                    <div style="margin-top: 12px; padding-top: 12px; border-top: 1px solid #ccc;">
                        <div style="margin-bottom: 8px;"><strong>50%:</strong> ê³µê²©ì  (ë†’ì€ ìœ„í—˜, ë†’ì€ ìˆ˜ìµ)</div>
                        <div style="margin-bottom: 8px;"><strong>75%:</strong> ê· í˜•ì¡íŒ (ê¶Œì¥)</div>
                        <div><strong>100%:</strong> ë³´ìˆ˜ì  (ë‚®ì€ ìœ„í—˜, ë‚®ì€ ìˆ˜ìµ)</div>
                    </div>
                </div>

                <!-- ë°±ì—… ì•ˆë‚´ -->
                <div style="background: #fff8e1; border: 2px solid #ffa500; border-radius: 8px; padding: 16px; margin-bottom: 20px;">
                    <p style="margin: 0 0 10px 0; color: #333; font-weight: 700; font-size: 1em;">
                        ğŸ“¦ ë§ˆì§€ë§‰ ë‹¹ë¶€: ë°˜ë“œì‹œ ì •ê¸°ì ìœ¼ë¡œ ë°±ì—…í•˜ì„¸ìš”!
                    </p>
                    <p style="margin: 0 0 8px 0; color: #555; font-size: 0.95em;">
                        HedgeFreedomì˜ HEDGEFREEDOM í´ë”ëŠ” ê³ ê°ë‹˜ì˜ ì†Œì¤‘í•œ ê±°ë˜ ë°ì´í„°ì…ë‹ˆë‹¤. 
                        ë¡œì»¬ ì»´í“¨í„°ì—ë§Œ ì €ì¥ë˜ê¸° ë•Œë¬¸ì— ë‹¤ìŒê³¼ ê°™ì€ ìœ„í—˜ì— ë…¸ì¶œë˜ì–´ ìˆìŠµë‹ˆë‹¤:
                    </p>
                    <div style="background: white; padding: 12px; border-radius: 6px; margin-bottom: 10px;">
                        <p style="margin: 0 0 6px 0; color: #666; font-size: 0.9em;">
                            <strong>âš ï¸ ìœ„í—˜ ìš”ì†Œ:</strong>
                        </p>
                        <p style="margin: 0; color: #666; font-size: 0.85em;">
                            â€¢ ì»´í“¨í„° í•˜ë“œë””ìŠ¤í¬ ê³ ì¥ì´ë‚˜ ê°‘ì‘ìŠ¤ëŸ¬ìš´ ê¸°ìˆ  ì¥ì• <br>
                            â€¢ ëœì„¬ì›¨ì–´, ì•…ì„±ì½”ë“œ ê°ì—¼<br>
                            â€¢ ì‹¤ìˆ˜ë¡œ ì¸í•œ í´ë” ì‚­ì œ<br>
                            â€¢ ë³´ì•ˆ ì‚¬ê±´ ë°œìƒ ì‹œ ë°ì´í„° ì†ì‹¤<br>
                            â€¢ ì»´í“¨í„° ë¶„ì‹¤, ë„ë‚œ, ì¹¨ìˆ˜ ë“±ì˜ ë¬¼ë¦¬ì  ì†ìƒ
                        </p>
                    </div>
                    <div style="background: #f0fdf4; padding: 12px; border-radius: 6px; border-left: 4px solid #22c55e;">
                        <p style="margin: 0 0 6px 0; color: #166534; font-weight: 600; font-size: 0.95em;">
                            âœ… ë°±ì—… ë°©ë²• (ê¶Œì¥):
                        </p>
                        <p style="margin: 0; color: #166534; font-size: 0.85em;">
                            1. <strong>ì™¸ì¥ ë“œë¼ì´ë¸Œ:</strong> ë§¤ì›” 1íšŒ ì´ìƒ HEDGEFREEDOM í´ë” ì „ì²´ ë³µì‚¬<br>
                            2. <strong>í´ë¼ìš°ë“œ ë°±ì—…:</strong> OneDrive, Google Drive, Dropbox ë“±ì— ìë™ ë™ê¸°í™”<br>
                            3. <strong>NAS ë°±ì—…:</strong> íšŒì‚¬ ë‚´ ë„¤íŠ¸ì›Œí¬ ìŠ¤í† ë¦¬ì§€ì— ì •ê¸°ì  ë°±ì—…<br>
                            4. <strong>3-2-1 ê·œì¹™:</strong> ì›ë³¸ 1ê°œ + ë¡œì»¬ ë°±ì—… 1ê°œ + ì˜¤í”„ì‚¬ì´íŠ¸ ë°±ì—… 1ê°œ ìœ ì§€
                        </p>
                    </div>
                    <p style="margin: 12px 0 0 0; color: #c92a2a; font-weight: 600; font-size: 0.9em;">
                        ğŸ’¡ íŠ¹íˆ ê°ì‚¬ ëŒ€ì‘ì´ í•„ìš”í•  ë•Œ ë°±ì—…ë³¸ì´ ìƒëª…ì…ë‹ˆë‹¤!
                    </p>
                </div>

                <div class="btn-group">
                    <button class="btn btn-secondary" onclick="prevStep()">ì´ì „</button>
                    <button class="btn btn-primary" onclick="completeOnboarding()">
                        ğŸ‰ ì„¤ì • ì™„ë£Œ ë° ì‹œì‘í•˜ê¸°
                    </button>
                </div>
                <div class="step-indicator">4 / 4 ë‹¨ê³„</div>
            </div>
        </div>
    </div>

    <script>
        let currentStep = 1;
        let folderHandles = {
            'ì›ë³¸': null,
            'ê²°ê³¼': null
        };

        function nextStep() {
            if (currentStep === 2 && !folderHandles['ì›ë³¸']) {
                alert('âš ï¸ ì‘ì—… í´ë”ë¥¼ ë¨¼ì € ì„ íƒí•´ì£¼ì„¸ìš”.');
                return;
            }

            if (currentStep < 4) {
                currentStep++;
                updateStep();
            }
        }

        function prevStep() {
            if (currentStep > 1) {
                currentStep--;
                updateStep();
            }
        }

        function updateStep() {
            // ëª¨ë“  ìŠ¤í… ìˆ¨ê¸°ê¸°
            document.querySelectorAll('.step-container').forEach(el => {
                el.classList.remove('active');
            });

            // í˜„ì¬ ìŠ¤í…ë§Œ ë³´ì´ê¸°
            document.querySelector(`[data-step="${currentStep}"]`).classList.add('active');

            // ì§„í–‰ë¥  ì—…ë°ì´íŠ¸
            const progress = (currentStep / 4) * 100;
            document.getElementById('progressFill').style.width = progress + '%';

            // ìŠ¤í¬ë¡¤
            window.scrollTo(0, 0);
        }

        function setRatio(value) {
            document.getElementById('targetHedgeRatioInput').value = value;
        }

        async function selectWorkspaceFolder() {
            if (!('showDirectoryPicker' in window)) {
                alert('âš ï¸ ì´ ë¸Œë¼ìš°ì €ëŠ” í´ë” ì„ íƒì„ ì§€ì›í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.\nChrome ë˜ëŠ” Edge ë¸Œë¼ìš°ì €ë¥¼ ì‚¬ìš©í•´ì£¼ì„¸ìš”.');
                return;
            }

            try {
                const rootHandle = await window.showDirectoryPicker({
                    mode: 'readwrite',
                    startIn: 'documents'
                });

                console.log('âœ… ìµœìƒìœ„ í´ë” ì„ íƒë¨:', rootHandle.name);

                // HEDGEFREEDOM í´ë” ìƒì„±
                const hedgeFreedomHandle = await rootHandle.getDirectoryHandle('HEDGEFREEDOM', { create: true });

                // í•˜ìœ„ í´ë” ìƒì„±
                const subFolders = ['ì›ë³¸', 'ê²°ê³¼', 'íˆìŠ¤í† ë¦¬', 'ìºì‹œ'];
                const createdFolders = [];

                for (const folderName of subFolders) {
                    try {
                        await hedgeFreedomHandle.getDirectoryHandle(folderName, { create: true });
                        createdFolders.push(folderName);
                        console.log(`âœ… ${folderName} í´ë” ìƒì„±`);
                    } catch (err) {
                        console.warn(`âš ï¸ ${folderName} í´ë” ìƒì„± ì‹¤íŒ¨:`, err);
                    }
                }

                // folderHandles ì €ì¥
                folderHandles['ì›ë³¸'] = await hedgeFreedomHandle.getDirectoryHandle('ì›ë³¸');
                folderHandles['ê²°ê³¼'] = await hedgeFreedomHandle.getDirectoryHandle('ê²°ê³¼');

                // localStorageì— ì„¤ì • ì €ì¥
                localStorage.setItem('hedge_folders_setup', 'true');
                localStorage.setItem('hedge_root_folder_name', rootHandle.name);

                // IndexedDBì— ì €ì¥
                try {
                    await saveFolderHandlesToIndexedDB();
                } catch (dbErr) {
                    console.warn('âš ï¸ IndexedDB ì €ì¥ ì‹¤íŒ¨:', dbErr);
                }

                // UI ì—…ë°ì´íŠ¸
                const statusDiv = document.getElementById('folderStatus');
                statusDiv.innerHTML = `
                    <div class="text-green-600 font-bold">
                        âœ… ${rootHandle.name}/HEDGEFREEDOM í´ë” ì¤€ë¹„ ì™„ë£Œ!
                    </div>
                    <div class="text-xs text-gray-600 mt-2">
                        ìë™ ìƒì„±ëœ í´ë”: ${createdFolders.join(', ')}
                    </div>
                `;

                // ë‹¤ìŒ ë²„íŠ¼ í™œì„±í™”
                document.getElementById('nextStepBtn2').disabled = false;

                console.log('ğŸ‰ ì‘ì—…ê³µê°„ ì„¤ì • ì™„ë£Œ!');
            } catch (error) {
                if (error.name === 'AbortError') {
                    console.log('ì‚¬ìš©ìê°€ í´ë” ì„ íƒ ì·¨ì†Œ');
                } else {
                    console.error('âŒ í´ë” ì„ íƒ ì‹¤íŒ¨:', error);
                    alert(`í´ë” ì„ íƒ ì‹¤íŒ¨:\n\n${error.message}`);
                }
            }
        }

        async function saveFolderHandlesToIndexedDB() {
            return new Promise((resolve, reject) => {
                const request = indexedDB.open('HedgeDashboardDB', 1);

                request.onsuccess = (event) => {
                    const db = event.target.result;

                    // ìŠ¤í† ì–´ í™•ì¸
                    if (!db.objectStoreNames.contains('folderHandles')) {
                        db.close();
                        resolve(); // ìŠ¤í† ì–´ ì—†ìœ¼ë©´ ê·¸ëƒ¥ ì§„í–‰
                        return;
                    }

                    const transaction = db.transaction(['folderHandles'], 'readwrite');
                    const store = transaction.objectStore('folderHandles');

                    // ì›ë³¸ í´ë”
                    store.put({
                        type: 'ì›ë³¸',
                        handle: folderHandles['ì›ë³¸'],
                        savedAt: new Date().toISOString()
                    });

                    // ê²°ê³¼ í´ë”
                    store.put({
                        type: 'ê²°ê³¼',
                        handle: folderHandles['ê²°ê³¼'],
                        savedAt: new Date().toISOString()
                    });

                    transaction.oncomplete = () => {
                        console.log('âœ… IndexedDBì— í´ë” í•¸ë“¤ ì €ì¥ ì™„ë£Œ');
                        db.close();
                        resolve();
                    };

                    transaction.onerror = () => {
                        console.error('âŒ IndexedDB ì €ì¥ ì˜¤ë¥˜:', transaction.error);
                        db.close();
                        reject(transaction.error);
                    };
                };

                request.onerror = () => {
                    console.error('âŒ IndexedDB ì—´ê¸° ì‹¤íŒ¨:', request.error);
                    reject(request.error);
                };
            });
        }

        async function completeOnboarding() {
            const targetRatio = parseInt(document.getElementById('targetHedgeRatioInput').value);

            if (isNaN(targetRatio) || targetRatio < 0 || targetRatio > 100) {
                alert('âš ï¸ ëª©í‘œ í—¤ì§€ ë¹„ìœ¨ì€ 0~100 ì‚¬ì´ì˜ ìˆ«ìì—¬ì•¼ í•©ë‹ˆë‹¤.');
                return;
            }

            try {
                // ì„¤ì • ì €ì¥
                localStorage.setItem('hedge_onboarding_completed', 'true');
                localStorage.setItem('target_hedge_ratio', targetRatio.toString());
                localStorage.setItem('onboarding_completed_at', new Date().toISOString());

                console.log('âœ… ì˜¨ë³´ë”© ì™„ë£Œ! ëŒ€ì‹œë³´ë“œë¡œ ì´ë™ ì¤‘...');

                // 2ì´ˆ í›„ ëŒ€ì‹œë³´ë“œë¡œ ì´ë™
                setTimeout(() => {
                    window.location.href = './hedge-manager.html';
                }, 1500);
            } catch (error) {
                console.error('âŒ ì„¤ì • ì €ì¥ ì‹¤íŒ¨:', error);
                alert(`ì„¤ì • ì €ì¥ ì‹¤íŒ¨:\n\n${error.message}`);
            }
        }

        // ì´ˆê¸° ë¡œë“œ
        document.addEventListener('DOMContentLoaded', () => {
            console.log('ğŸ“„ ì˜¨ë³´ë”© í˜ì´ì§€ ë¡œë“œ');
            updateStep();
        });
    </script>
</body>
</html>
