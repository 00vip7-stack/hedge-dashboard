# 📂 폴더 업로드 가이드

## 🎯 개요

HedgeFreedom v3.0은 **폴더 전체 업로드**를 지원합니다!
더 이상 파일을 하나씩 선택할 필요가 없습니다.

---

## 🚀 3가지 업로드 방법

### 1️⃣ 드래그 앤 드롭 (가장 편함! 👍)

```
1. Excel 파일들이 있는 폴더를 열기
2. 파일들을 선택 (Ctrl+A 또는 마우스로 드래그)
3. HedgeFreedom 화면의 파란 영역에 드롭
4. ✅ 자동으로 업로드 시작!
```

**장점**:
- 🖱️ 클릭 최소화
- 📂 여러 파일 동시 선택
- 🎯 직관적인 인터페이스

---

### 2️⃣ 폴더 선택 버튼 (권장 ⭐)

```
1. "📂 폴더 선택" 버튼 클릭
2. 폴더 선택 다이얼로그에서 폴더 선택
3. 확인 메시지에서 "확인" 클릭
4. ✅ 자동으로 업로드 시작!
```

**장점**:
- 📁 폴더 전체 선택
- 🔍 하위 폴더 포함 가능
- 🚀 한 번에 모든 파일 처리

**예시**:
```
Documents/
  └─ ERP데이터/
      ├─ 2026-01-거래내역.xlsx  ✅
      ├─ 2026-02-거래내역.xlsx  ✅
      ├─ 헤지현황.xlsx          ✅
      └─ 메모.txt               ⏭️ (Excel 아님)
```

---

### 3️⃣ 파일 선택 버튼 (단일 파일)

```
1. "📄 파일 선택" 버튼 클릭
2. 파일 선택 다이얼로그에서 파일 선택
3. "⬆️ 업로드 및 계산" 버튼 클릭
4. ✅ 업로드 시작!
```

**사용 시기**:
- 파일이 1개만 있을 때
- 특정 파일만 업로드하고 싶을 때

---

## 📊 업로드 프로세스

```
폴더/파일 선택
    ↓
Excel 파일 자동 필터링 (.xlsx, .xls만)
    ↓
확인 메시지 (파일 목록 표시)
    ↓
🔒 클라이언트에서 자동 익명화
    ↓ (거래처명, 은행명 제거)
    ↓
서버로 전송 (통화, 금액, 날짜만)
    ↓
헤지 계산
    ↓
✅ 결과 표시
```

---

## 🔐 보안 (GDPR 준수)

### 자동 익명화 시스템

```javascript
// 원본 데이터 (로컬에만 저장)
{
    counterparty: "삼성전자",  // 로컬 저장 ✅
    bank: "KB국민은행",        // 로컬 저장 ✅
    currency: "USD",
    amount: 100000
}

// 서버 전송 데이터 (익명화됨)
{
    // counterparty: 삭제됨 🔒
    // bank: 삭제됨 🔒
    currency: "USD",           // 전송 ✅
    amount: 100000             // 전송 ✅
}
```

**보안 원칙**:
- ❌ 거래처명 서버 전송 안 함
- ❌ 은행명 서버 전송 안 함
- ✅ 통화, 금액, 날짜만 전송
- ✅ 민감정보는 브라우저에만 저장

---

## 📝 지원 파일 형식

### ✅ 지원됨
- `.xlsx` - Excel 2007 이상
- `.xls` - Excel 97-2003

### ⏭️ 자동 제외됨
- `.txt` - 텍스트 파일
- `.csv` - CSV 파일 (향후 지원 예정)
- `.pdf` - PDF 문서
- `.doc`, `.docx` - Word 문서
- 기타 모든 파일

---

## 🎨 UI 가이드

### 드래그 앤 드롭 영역

```
┌─────────────────────────────────────┐
│         🗂️                          │
│                                      │
│  폴더를 여기에 드래그하거나 클릭하세요   │
│                                      │
│  여러 개의 Excel 파일을 한 번에       │
│  업로드할 수 있습니다                 │
│                                      │
│  (또는 아래 버튼을 사용하세요)        │
└─────────────────────────────────────┘
```

**상태 변화**:
- 기본: 파란 테두리
- 드래그 오버: 진한 파란색 + 배경색 변경
- 드롭: 파일 수집 → 확인 메시지

---

## 💡 사용 예시

### 시나리오 1: 월별 거래 데이터 업로드

```
1. "📂 폴더 선택" 클릭
2. "D:\ERP데이터\2026년\01월\" 선택
3. 확인 메시지:
   
   📂 15개의 Excel 파일을 업로드하시겠습니까?
   
     • 거래내역-0101.xlsx
     • 거래내역-0102.xlsx
     • 거래내역-0103.xlsx
     • 거래내역-0104.xlsx
     • 거래내역-0105.xlsx
     ... 외 10개
   
   🔒 자동 익명화되어 서버로 전송됩니다.
   
   [확인] [취소]

4. "확인" 클릭
5. ✅ 업로드 시작!
```

---

### 시나리오 2: 드래그 앤 드롭

```
1. 탐색기에서 폴더 열기
2. Excel 파일들 선택 (Ctrl+A)
3. HedgeFreedom 화면으로 드래그
4. 파란 영역에 드롭
5. ✅ 자동 업로드!
```

---

## ⚠️ 주의사항

### 파일 크기 제한
- **최대 10MB/파일**
- 큰 파일은 분할 권장

### 파일명 제한
- 한글 파일명 지원 ✅
- 특수문자 파일명 지원 ✅
- 공백 포함 파일명 지원 ✅

### 브라우저 지원
- ✅ Chrome 86 이상
- ✅ Edge 86 이상
- ✅ Opera 72 이상
- ❌ Firefox (폴더 선택 미지원)
- ❌ Safari (폴더 선택 미지원)

**Firefox/Safari 사용자**:
- 드래그 앤 드롭 사용 권장
- 또는 파일을 하나씩 선택

---

## 🐛 문제 해결

### "폴더에 엑셀 파일이 없습니다"

**원인**: 폴더에 `.xlsx` 또는 `.xls` 파일이 없음

**해결**:
1. 파일 확장자 확인
2. 숨겨진 파일 표시 확인
3. 하위 폴더 확인

---

### "익명화 검증 실패"

**원인**: 민감정보가 제거되지 않음

**해결**:
1. 페이지 새로고침 (F5)
2. 브라우저 캐시 삭제
3. 개발자 콘솔 확인 (F12)

---

### "서버 오류: 500"

**원인**: 서버 처리 중 오류

**해결**:
1. 파일 크기 확인 (10MB 이하)
2. 파일 형식 확인 (.xlsx, .xls)
3. 서버 상태 확인 (좌측 상단 녹색 점)

---

## 📊 진행 상태 표시

```
업로드 진행 중...                    45%
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
파일 읽는 중... (7/15)
```

**단계**:
1. **0-50%**: 파일 읽기
2. **50-70%**: 익명화 처리
3. **70-90%**: 서버 전송 및 계산
4. **90-100%**: 결과 저장

---

## 🎯 최적화 팁

1. **파일 정리**
   - 업로드 전 불필요한 파일 삭제
   - Excel 파일만 남기기

2. **파일 크기 줄이기**
   - 불필요한 시트 삭제
   - 이미지/차트 제거
   - 압축 저장 활용

3. **배치 업로드**
   - 월별 또는 주별로 묶어서 업로드
   - 100개 이상 파일은 분할 권장

---

## 📞 문의

- 이메일: support@hedgefreedom.com
- 전화: 1588-XXXX
- 채팅: 우측 하단 채팅 버튼

---

**작성일**: 2026-02-04  
**버전**: 3.0  
**작성자**: HedgeFreedom Team
